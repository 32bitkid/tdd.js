!function(n){"use strict";var t,e,i,o,r,u,s=function(n){var e=[],i=function(){throw new u("Implementation not defined"+(n?" for: '"+n+"'":"!"))},r=function(){i()};return r.describe=function(n){return n.call(r,r),r},r.given=function(n){var o=function(){i()};return o.when=function(){var o=Array.prototype.slice.call(arguments),u=function(){i()};return u.then=function(t){return e.push(function(e){var i=e.apply(n,o);t.call(n,i,o)}),r},u.returns=function(){var i=arguments.length>1?arguments[1]:arguments[0],u=(arguments.length>1?arguments[0]:t)||t;return e.push(function(t){var e=t.apply(n,o);u(e,i)}),r},u},o},r.when=function(){return r.given(void 0).when.apply(void 0,arguments)},r.define=function(t){for(var i,r=[],u=0;u<e.length;u++){i=e[u];try{i.call(void 0,t)}catch(s){r.push(s)}}if(r.length>0)throw new o(n,r[u]);return t},r};u=s.NotImplementedException=function(n){this.message=n},i=s.NotDefinedException=function(n){this.message=n},o=s.DefinitionNotValidException=function(n){this.message="Invalid Implementation: "+n,this.failures=failures},r=s.AssertionException=function(n){this.message=n},t=e=function(n,t,e){if(n!==t)throw new r(e||n+" !== "+t)},s.setDefaultAssert=function(n){t=n||e},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=s),exports.tdf=s):n.tdf=s}(this);